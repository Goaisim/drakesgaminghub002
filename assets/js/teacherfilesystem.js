const filestyle=document.createElement("style");filestyle.innerHTML="\n.pAdeblc-filesystem-topbar{\n    height: 2vw;\n    background-color: #C0C0C0;\n    border: 0.1vw solid #fff;\n    border-top-color:#fff;\n    border-left-color:#fff;\n    border-right-color: rgb(56, 56, 56);\n    border-bottom-color: rgb(56, 56, 56);\n    padding: 0.35vw;\n    font-family: 'MS Sans Serif', sans-serif;\n    font-size: 1.4vw;\n    color: #000080;\n    font-weight: bold;\n    z-index: 10000;\n    display: flex;\n    align-items: center;\n}\n.pAdeblc-filesystem-bt {\n    margin-left: 0.5vw;\n    font-family: 'Tahoma', sans-serif;\n    font-size: 1vw;\n    height: 1.8vw;\n    color: #000;\n    background-color: #C0C0C0;\n    padding: 0.4vw;\n    cursor: pointer;\n    border: 0.1vw solid #C0C0C0;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n}\n.pAdeblc-image {\n  width: 1.5vw;\n  height: 1.5vh;   \n  image-rendering: pixelated;\n  object-fit: contain;\n}\n.pAdeblc-filemanager-content-new{\n    overflow-y: hidden;\n    height: 30vw;\n}\n.pAdeblc-filesystem-side-container {\n    width: 12.5vw;\n    margin-right: 0.5vw;\n    margin-left: 0.5vw;\n    background: rgb(252, 252, 236);\n    height: 29.8vw;\n    margin-top: 0.2vw;\n    overflow-y: hidden;\n    overflow-x: hidden;\n}\n.pAdeblc-filesystem-main-container {\n    width: 50vw;\n    margin-top: 0.2vw;\n    background: rgb(255, 255, 255);\n    overflow-y: scroll;\n    overflow-x: hidden;\n    display: flex;\n    flex-direction: side;\n}\n.pAdeblc-filesystem-row {\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n    margin-left: 0.5vw;\n}\n.cewlborder-in {\n    border: 0.15vw solid #fff;\n    border-right: 0.1vw solid #fff;\n    border-bottom: 0.1vw solid #fff;\n    border-top: 0.15vw solid rgb(56, 56, 56);\n    border-left: 0.15vw solid rgb(56, 56, 56);\n}\n.cewlborder-out{\n    border: 0.2vw solid #fff;\n    border-right-color:rgb(56, 56, 56);\n    border-bottom-color: rgb(56, 56, 56);\n    border-top-color: #fff;\n    border-left-color: #fff;\n}\n\n.pAdeblc-dropdown {\n  position: relative;\n  display: inline-block;\n}\n.pAdeblc-dropdown-content {\n    display: none;\n    width: 7vw;\n    position: absolute;\n    background-color: #C0C0C0;\n    border: 0.1vw solid #fff;\n    border-top-color:#fff;\n    border-left-color:#fff;\n    border-right-color: rgb(56, 56, 56);\n    border-bottom-color: rgb(56, 56, 56);\n    z-index: 10;\n    padding: 0.4vw;\n    font-size: 1vw;\n}\n\n.pAdeblc-dropdown-content a {\n  color: black;\n  background-color: #C0C0C0;\n  border: 0.1vw solid #C0C0C0;\n  padding: 0.4vw 1.6vw;\n  text-decoration: none;\n  display: block;\n}\n\n.pAdeblc-dropdown-content a:hover {\n    border: 0.1vw solid #fff;\n    border-right-color:#fff;\n    border-bottom-color:#fff;\n    border-top-color: rgb(56, 56, 56);\n    border-left-color: rgb(56, 56, 56);\n}\n\n.pAdeblc-dropdown.show .pAdeblc-dropdown-content {\n  display: block;\n}\n.pAdeblc-filesystem-bt:hover {\n    border: 0.1vw solid #fff;\n    border-right-color:#fff;\n    border-bottom-color:#fff;\n    border-top-color: rgb(56, 56, 56);\n    border-left-color: rgb(56, 56, 56);\n}\n.pAdeblc-filesystem-filename{\n    font-family: 'Tahoma', sans-serif;\n    font-size: 1vw;\n    color: #000;\n    background-color:rgba(255, 255, 255, 0);\n    border: none;\n    margin-bottom: 0vw;\n    margin-top: 0vw;\n    margin-left: 0.4vw;\n    margin-right: 0.5vw;\n    outline: none;\n    width: 38vw;\n    cursor: default;\n    text-align: left; \n}\n.pAdeblc-filesystem-value{\n    font-family: 'Tahoma', sans-serif;\n    font-size: 1vw;\n    background-color:rgba(255, 255, 255, 0);\n    border: none;\n    color: #000;\n    margin-bottom: 0vw;\n    margin-top: 0vw;\n    margin-left: 0.4vw;\n    margin-right: 0.5vw;\n    outline: none;\n    width: 38vw;\n    cursor: pointer;\n    text-align: left; \n}\n.padeblc-filesystem-filename:hover{\n    color: #ffffff;\n}\nh3{\n    font-size: 1vw;\n}\nh5  {\n    margin-top: revert;\n    font-size: 0.8vw;\n}\n.pAdbelc-filemanager-folderlocation {\n    outline: none;\n    border-radius: none;\n    border: 0.1vw solid #fff;\n    border-right-color:#fff;\n    border-bottom-color:#fff;\n    border-top-color: rgb(56, 56, 56);\n    border-left-color: rgb(56, 56, 56);\n    background:rgb(156, 202, 255);\n    width: 85%;\n    margin-left: 0.4vw;\n    margin-top: 0.2vw;\n    margin-bottom: 0.2vw;\n    height: 1.3vw;\n}\n.pAdeblc-filemanager-content {\n    overflow: hidden;\n}\n\n.pAdeblc-filemanager-panel {\n    flex-grow: 1;\n    display: flex;\n    flex-direction: column;\n    background: rgb(255, 255, 255);\n    border: 0.1vw solid rgb(56, 56, 56);\n    box-sizing: border-box;\n    min-width: 7vw;\n}\n\n.pAdeblc-filemanager-panel .folder-input {\n    margin: 0.3vw;\n    padding: 0.2vw;\n    border: 0.1vw solid #fff;\n    border-top-color: rgb(56, 56, 56);\n    border-left-color: rgb(56, 56, 56);\n    border-right-color: #fff;\n    border-bottom-color: #fff;\n    outline: none;\n    font-size: 1vw;\n    background: rgb(156, 202, 255);\n    min-width: 1vw;\n\n}\n\n.pAdeblc-filemanager-panel .file-list {\n    flex-grow: 1;\n    overflow-y: auto;\n    overflow-x: hidden;\n    padding: 0.3vw;\n    background: rgb(255, 255, 255);\n}\n\n.pAdeblc-filemanager-panel .file-item {\n    display: flex;\n    align-items: center;\n    padding: 0.2vw;\n    border: 0.1vw solid rgb(85, 85, 85);\n    background: rgb(231, 231, 231) !important;\n    border-radius: 0.05vw;\n    margin-bottom: 0.2vw;\n    cursor: pointer;\n    user-select: none;\n    overflow: hidden;\n    color: #000;\n}\n.pAdeblc-filemanager-panel .file-item:hover {\n    border: 0.1vw solid rgb(82, 183, 241);\n}\n\n.pAdeblc-filemanager-panel .file-item img {\n    width: 1.5vw;\n    height: 1.5vw;\n    margin-right: 0.5vw;\n}\n\n.pAdeblc-filemanager-resizer {\n    width: 0.15vw;\n    margin-left: 0vw;\n    margin-right: 0vw;\n    background: #333;\n    cursor: ew-resize;\n}\n.pAdeblc-filesystem-row {\n    display: flex;\n    width: 100%;\n}\n\n#pAdeblc-filesystem-Names,\n#pAdeblc-filesystem-Values {\n    overflow: hidden;\n}\n\n#pAdeblc-filesystem-Names {\n    flex-grow: 1;\n}\n\n#pAdeblc-filesystem-Values {\n    flex-grow: 2;\n}\n\n.resizer {\n    width: 5px;\n    background-color: #333;\n    cursor: ew-resize;\n}\n.pAdeblc-filemanager-button {\n    font-family: 'Tahoma', sans-serif;\n    color: rgb(0, 0, 0) !important;\n}\n.pAdeblc-filemanager-button:hover {\n    background: rgb(65, 113, 218) !important;\n    color: rgb(255, 255, 255) !important;\n}\n.pAdeblc-filemanager-go-up{\n    font-family: 'Tahoma', sans-serif;\n    font-size: 1vw;\n    border: 0.1vw solid #fff;\n    border-right-color:rgb(56, 56, 56);\n    border-bottom-color: rgb(56, 56, 56);\n    border-top-color: #fff;\n    border-left-color: #fff;\n    cursor: pointer;\n    width: 1vw;\n    text-align: center; \n    width: 1.5vw;\n    flex: 0 1 auto;\n    margin-right: 0.5vw;\n}\n.pAdeblc-filemanager-go-root{\n    font-family: 'Tahoma', sans-serif;\n    font-size: 1vw;\n    margin-right: 0.5vw;\n    width: 1.5vw;\n    border: 0.1vw solid #fff;\n    border-right-color:rgb(56, 56, 56);\n    border-bottom-color: rgb(56, 56, 56);\n    border-top-color: #fff;\n    border-left-color: #fff;\n    cursor: pointer;\n    text-align: center; \n    flex: 0 1 auto;\n}\n.custom-context-menu {\n    font-family: 'MS Sans Serif', sans-serif;\n    font-size: 1vw;\n    border-radius: 0.2vw;\n}\n.custom-context-menu div:hover {\n    background: rgb(82, 183, 241);\n    color: #fff;\n}\n.pAdeblc-file-name{\n    background-color:rgba(192, 192, 192, 0);\n    outline: none;\n    border: none;\n    font-size: 1vw;\n    color: #000;\n    user-select: none;\n}\n.pAdeblc-side-button{\n    font-family: 'Tahoma', sans-serif;\n    font-size: 1vw;\n    color: #000;\n    background-color: rgb(160, 160, 160);\n    border: 0.1vw solid #fff;\n    height: 1.5vw;\n    margin-bottom: 0.5vw;\n    margin-top: 0.5vw;\n    margin-left: 0.5vw;\n    margin-right: 0.5vw;\n    border-top-color: #fff;\n    border-left-color: #fff;\n    border-right-color: rgb(56, 56, 56);\n    border-bottom-color: rgb(56, 56, 56);\n    width: 10vw;\n    cursor: pointer;\n    text-align: left;\n}\n",document.head.appendChild(filestyle);let current_menu,isResizing=!1,currentResizer=null,previousBox=null,nextBox=null,startX=0,startPrevSize=0,startNextSize=0,filesystemmain=[{type:"folder",name:"root",contents:[]}];function getStringSizeUsingBlob(e){return new Blob([e]).size}function openDatabase(e){const t=indexedDB.open("pAdbelc-personal-filesystem",1);t.onupgradeneeded=function(e){const t=e.target.result;if(!t.objectStoreNames.contains("filesystem")){t.createObjectStore("filesystem",{keyPath:"id",autoIncrement:!0})}},t.onsuccess=function(t){const n=t.target.result;e&&e(n)},t.onerror=function(e){console.error("Error opening database:",e.target.error)}}function saveFilesystem(){openDatabase((function(e){const t=e.transaction("filesystem","readwrite").objectStore("filesystem").put({id:1,data:filesystemmain});t.onsuccess=function(){},t.onerror=function(e){console.error("Error saving filesystem:",e.target.error)}}))}function getFolderByPath(e,t=filesystemmain){const n=e.split("/").filter((e=>""!==e));if(0===n.length)return null;let o=filesystemmain.find((e=>"folder"===e.type&&e.name===n[0]));if(!o)return null;for(const e of n.slice(1)){if(!o.contents)return null;if(o=o.contents.find((t=>"folder"===t.type&&t.name===e)),!o)return null}return o}function makefolder(e,t=""){const n=t?getFolderByPath(t):filesystemmain;if(n){n.contents||(n.contents=[]);let o=e,l=1;for(;n.contents.some((e=>e.name===o&&"folder"===e.type));)o=`${e} (${l++})`;return n.contents.push({name:o,type:"folder",contents:[],path:t}),n.contents[n.contents.length-1]}console.error(`Path "${t}" not found.`)}function makefile(e,t,n=""){const o=n?getFolderByPath(n):filesystemmain;if(o){o.contents||(o.contents=[]);let l=e,i=1;for(;o.contents.some((e=>e.name===l&&"file"===e.type));){const t=e.substring(0,e.lastIndexOf("."))||e,n=e.includes(".")?e.substring(e.lastIndexOf(".")):"";l=`${t} (${i++})${n}`}return o.contents.push({name:l,file_format:l.split(".").pop(),type:"file",data:t,time_made:(new Date).toLocaleString(),file_size:getStringSizeUsingBlob(t),path:n}),openDatabase((function(e){saveFilesystem(e)})),o.contents[o.contents.length-1]}console.error(`Path "${n}" not found.`)}function toggleDropdown(e){const t=e;t.classList.toggle("show");document.querySelectorAll(".pAdeblc-dropdown").forEach((e=>{e!==t&&e.classList.remove("show")}))}function CloseDropdowns(){document.querySelectorAll(".pAdeblc-dropdown").forEach((e=>{e.classList.contains("show")&&e.classList.remove("show")}))}openDatabase((function(e){const t=e.transaction("filesystem","readonly").objectStore("filesystem").get(1);t.onsuccess=function(e){t.result?filesystemmain=t.result.data:(filesystemmain=[{type:"folder",name:"root",contents:[]}],saveFilesystem())},t.onerror=function(e){console.error("Error loading data from IndexedDB:",e.target.error)}}));const handleFileNFolderContextMenu=(e,t,n)=>{e.preventDefault(),document.getElementById("context-menu-rightclick")&&document.body.removeChild(document.getElementById("context-menu-rightclick"));const o=document.createElement("div");o.id="context-menu-rightclick",o.classList.add("pAdeblc-dropdown-content"),o.style.position="absolute",o.style.left=e.pageX+"px",o.style.top=e.pageY+"px",o.style.width="10vw",o.style.display="block",bringToFront(o);const l=document.createElement("a");l.href="#",l.textContent=`Rename ${n}`,l.addEventListener("click",(t=>RenameItem(e)));const i=document.createElement("a");i.href="#",i.textContent=`Delete ${n}`,i.addEventListener("click",(t=>DeleteItem(e))),o.appendChild(l),o.appendChild(i),document.body.appendChild(o),o.addEventListener("click",(e=>{"A"===e.target.tagName&&document.body.removeChild(o)}))};function DeleteItem(e){const t=e.target.closest(".file-item");if(t){const e=t.dataset.name,n=t.dataset.type,o=t.closest(".pAdeblc-filemanager-panel"),l=o.querySelector(".folder-input").value.trim(),i=getFolderByPath(l);if(!i)return;if(confirm(`Delete ${n} "${e}"?`)){const t=i.contents.findIndex((t=>t.name===e&&t.type===n));-1!==t&&(i.contents.splice(t,1),renderPanel(o.querySelector(".file-list"),l),UpdatePersonalFileSystem())}}}function RenameItem(e){const t=e.target.closest(".file-item");if(t){const e=t.dataset.name,n=t.dataset.type,o=t.closest(".pAdeblc-filemanager-panel"),l=t.querySelector(".pAdeblc-file-name"),i=getFolderByPath(o.querySelector(".folder-input").value.trim());if(!i)return;l.disabled=!1,l.style.pointerEvents="all",l.focus(),l.addEventListener("keydown",(function t(o){if("Enter"===o.key){o.preventDefault();const r=l.value.trim();if(r&&r!==e){let t=r,o=1;for(;i.contents.some((e=>e.name===t&&e.type===n));){const e=r.substring(0,r.lastIndexOf("."))||r,n=r.includes(".")?r.substring(r.lastIndexOf(".")):"";t=`${e} (${o++})${n}`}const l=i.contents.findIndex((t=>t.name===e&&t.type===n));-1!==l&&(i.contents[l].name=t,UpdatePersonalFileSystem())}l.disabled=!0,l.style.pointerEvents="none",l.removeEventListener("keydown",t)}})),l.addEventListener("blur",(function t(){const o=l.value.trim();if(o&&o!==e){let t=o,l=1;for(;i.contents.some((e=>e.name===t&&e.type===n));)t=`${o} (${l++})`;const r=i.contents.findIndex((t=>t.name===e&&t.type===n));-1!==r&&(i.contents[r].name=t,UpdatePersonalFileSystem())}l.disabled=!0,l.style.pointerEvents="none",l.removeEventListener("blur",t)}))}}function renderPanel(e,t){e.innerHTML="";const n=getFolderByPath(t);n?n.contents.forEach((t=>{const n=document.createElement("div");n.classList.add("file-item"),n.dataset.type=t.type,n.dataset.name=t.name,n.dataset.location=t.path,n.dataset.size=t.file_size,n.dataset.date=t.time_made,n.dataset.contents=t.data,n.setAttribute("draggable","true");const o=document.createElement("img");if("folder"===t.type)o.src="/assets/img/winicons/folder.png";else{const e=t.name.split(".").pop().toLowerCase();o.src=`/assets/img/winicons/${e}file.png`}const l=document.createElement("input");l.value=t.name,l.classList.add("pAdeblc-file-name"),l.disabled=!0,l.style.pointerEvents="none",n.appendChild(o),n.appendChild(l),e.appendChild(n),n.addEventListener("contextmenu",(e=>handleFileNFolderContextMenu(e,t.name,t.type))),n.addEventListener("dragstart",(e=>{e.dataTransfer.setData("application/json",JSON.stringify(t))})),n.addEventListener("dragend",(()=>{n.classList.remove("dragging")})),n.addEventListener("dragover",(e=>{e.preventDefault(),e.dataTransfer.dropEffect="copy"})),"folder"===t.type&&(n.addEventListener("dragover",(e=>{e.preventDefault(),e.dataTransfer.dropEffect="copy"})),n.addEventListener("drop",(e=>{e.preventDefault();const t=JSON.parse(e.dataTransfer.getData("application/json")),o=e.target.closest(".file-item");if(o){const e=o.closest(".pAdeblc-filemanager-panel"),l=o.querySelector(".pAdeblc-file-name"),i=getFolderByPath(e.querySelector(".folder-input").value.trim());if(console.log(t.name!==n.dataset.name),i&&t.name!==n.dataset.name){const e=i.contents.findIndex((e=>e.name===l.value.trim()&&"folder"===e.type));if(-1!==e){const n=i.contents[e],o=getFolderByPath(t.path);if(o){const e=o.contents.findIndex((e=>e.name===t.name&&e.type===t.type));-1!==e&&o.contents.splice(e,1)}t.path=""+("/"+n.path+"/"+n.name),n.contents.push(t),UpdatePersonalFileSystem()}}else console.error("Target folder does not exist")}})))})):console.warn(`Path "${t}" not found.`)}function makediv(e,t,n,o,l){let i=document.createElement("div");i.style.margin="0 0",document.getElementById("resizer").style.height="auto";let r=document.createElement("button");r.classList.add("pAdeblc-filemanager-button"),r.style.fontFamily="'Tahoma', sans-serif",r.style.fontSize="1vw",r.style.background=1==l?"rgb(255, 255, 255)":"rgb(221, 221, 221)",r.style.marginBottom="0vw",r.style.marginTop="0vw",r.style.marginLeft="0.8vw",r.style.marginRight="0.5vw",r.style.border="0.1vw solid rgb(136, 136, 136)",r.style.width="38vw",r.style.height="1.5vw",r.style.cursor="pointer",r.style.textAlign="left",r.style.display="flex",r.style.alignItems="center",r.setAttribute("data-darker",l?"1":"0");let s=document.createElement("img");s.src="/assets/img/winicons/folder.png",s.className="pAdeblc-image",s.style.width="1.1vw",s.style.height="2vh";let a=document.createElement("input");a.className="pAdeblc-filesystem-value",r.appendChild(s),r.appendChild(a),a.value=e,i.appendChild(r),t?document.getElementById("pAdeblc-filesystem-Values").appendChild(i):document.getElementById("pAdeblc-filesystem-Names").appendChild(i)}function makeResizable(e,t){let n,o,l,i=!1;function r(e){if(!i)return;const r=e.clientX-n;t[0].style.width=`${o+r}px`,t[1].style.width=l-r+"px"}function s(){i=!1,document.removeEventListener("mousemove",r),document.removeEventListener("mouseup",s)}e.addEventListener("mousedown",(function(e){i=!0,n=e.clientX;const a=t[0].getBoundingClientRect(),d=t[1].getBoundingClientRect();o=a.width,l=d.width,document.addEventListener("mousemove",r),document.addEventListener("mouseup",s)}))}function navigatePath(e,t){return"/"===e||""===e?`/${t}`:`${e}/${t}`}function makeFileManagerDraggable(e){let t=0,n=0,o=0,l=0;const i=e.querySelector("#pAdeblc-top-filesystem");function r(i){i.preventDefault(),t=o-i.clientX,n=l-i.clientY,o=i.clientX,l=i.clientY,e.style.top=e.offsetTop-n+"px",e.style.left=e.offsetLeft-t+"px"}function s(){document.onmouseup=null,document.onmousemove=null}i&&(i.onmousedown=function(e){e.preventDefault(),o=e.clientX,l=e.clientY,document.onmouseup=s,document.onmousemove=r})}function MakeFileSystem(){const e=document.createElement("script");e.src="/assets/js/FileSaver.js",document.body.appendChild(e);const t=document.createElement("div");t.classList.add(".pAdeblc"),t.classList.add("pAdeblc-filesystem-main"),t.id="pAdeblc-filesystem-main",t.style="font-family: 'MS Sans Serif', sans-serif; position: fixed; top: 25%; left: 25%; width: 56vw; height: 36vw; background: #c0c0c0; border: 0.2vw solid #fff; border-top-color:#fff; border-left-color:#fff; border-right-color: rgb(56, 56, 56); border-bottom-color: rgb(56, 56, 56); z-index: 9999; box-sizing: border-box;",t.innerHTML='\n        <div id="pAdeblc-top-filesystem" style="cursor: move; text-align: left; height: 1.5vw; background: -webkit-linear-gradient(to right, rgb(29, 47, 216), rgb(2, 107, 226)); background: -moz-linear-gradient(to right, rgb(29, 47, 216), rgb(2, 107, 226)); background: linear-gradient(to right, rgb(29, 47, 216), rgb(2, 107, 226)); padding: 0.4vw; font-family: \'MS Sans Serif\', sans-serif; font-size: 1.4vw; color: rgb(255, 255, 255); font-weight: bold; z-index: 10000; display: flex; align-items: center; justify-content: space-between;">\n            <span style="margin-left: 0.5vw;">\n                <img src="/assets/img/winicons/window.png" class="pAdeblc-image" style="width: 2.5vw; height: 2.5vh;">\n                Juststudy CE Storage Manager\n            </span>\n            <button style="font-family: \'Tahoma\', sans-serif; font-size: 1vw; color: #000; background-color: #C0C0C0; border: 0.1vw solid #fff; border-top-color: #fff; border-left-color: #fff; border-right-color: rgb(56, 56, 56); border-bottom-color: rgb(56, 56, 56); padding: 0.15vw 0.5vw; cursor: pointer;" onmouseover="hoverBtIn(this)" onmouseout="hoverBtOut(this)" onclick="document.getElementById(\'pAdeblc-filesystem-main\').style.display = \'none\';">X</button>\n        </div>\n        <div class="pAdeblc-filesystem-topbar">\n            <div class="pAdeblc-dropdown" id="fileselector">\n                <button class="pAdeblc-filesystem-bt" onclick="toggleDropdown(this.parentElement)">\n                    <img src="/assets/img/winicons/folder-edit.png" class="pAdeblc-image">File\n                </button>\n                <div class="pAdeblc-dropdown-content">\n                    <a href="#" onclick="document.getElementById(\'FilesystemCookieInput\').click();">Open Data File</a>\n                    <a href="#" onclick="updateStorage()">Save changes</a>\n                    <a href="#" onclick="saveCookies()">Save as</a>\n                </div>\n            </div>\n            <div class="pAdeblc-dropdown" id="editselector">\n                <button class="pAdeblc-filesystem-bt" onclick="toggleDropdown(this.parentElement)">\n                    <img src="/assets/img/winicons/texticon.png" class="pAdeblc-image">Edit\n                </button>\n                <div class="pAdeblc-dropdown-content">\n                    <a href="#" onclick="findText()">Find</a>\n                    <a href="#" onclick="findAndReplace()">Find & Replace</a>\n                    <a href="#" onclick="copyText()">Copy</a>\n                </div>\n            </div>\n        </div>\n        <div class="pAdeblc-filemanager-content-new" id="pAdeblc-filesystem-side-content" style="display: flex;">\n            <div class="pAdeblc-filesystem-side-container pAdeblc-cool-scroll cewlborder-in" style="background:rgb(108, 181, 230);">\n                <button onclick="LoadFiles(\'cookie\')" class="pAdeblc-side-button" onmouseover="hoverBtIn(this)" onmouseout="hoverBtOut(this)">\n                    <img src="/assets/img/winicons/data.png" class="pAdeblc-image" style="width: 1.1vw; height: 1vw;">Cookies\n                </button>\n                <button onclick="LoadFiles(\'localstorage\')"  class="pAdeblc-side-button" onmouseover="hoverBtIn(this)" onmouseout="hoverBtOut(this)">\n                    <img src="/assets/img/winicons/data.png" class="pAdeblc-image" style="width: 1.1vw; height: 1vw;">LocalStorage\n                </button>\n                <button onclick="LoadFiles(\'sessionstorage\')"  class="pAdeblc-side-button" onmouseover="hoverBtIn(this)" onmouseout="hoverBtOut(this)">\n                    <img src="/assets/img/winicons/data.png" class="pAdeblc-image" style="width: 1.1vw; height: 1vw;">SessionStorage\n                </button>\n                <button onclick="LoadFiles(\'personalfiles\')"  class="pAdeblc-side-button" onmouseover="hoverBtIn(this)" onmouseout="hoverBtOut(this)">\n                    <img src="/assets/img/winicons/folder.png" class="pAdeblc-image" style="width: 1.1vw; height: 1vw;">Personal Files\n                </button>\n                <h3 style="display: flex; align-items: center; justify-content: center; margin-bottom: 0.5vw;  margin-top: revert;">\n                    <img src="/assets/img/winicons/settingscog.png" class="pAdeblc-image" style="width: 1.1vw; height: 1vw;"> Properties \n                </h3>\n                <div class="cewlborder-in" style="height: 16vw; width: 10vw; margin-left: 0.3vw; flex-direction: column; display: flex; background:rgb(235, 235, 235); color: black;"> \n                    <div style="display: flex; width: 100%; align-items: center; margin-bottom: -1vw;">\n                        <h5 style="text-align: left; margin-left: 1vw;">file name:</h5>\n                        <div style="flex-grow: 1; text-align: center;">\n                            <h5 id="pAdeblc-filesystem-filename">main.js</h5>\n                        </div>\n                    </div>\n                    <div style="display: flex; width: 100%; align-items: center; margin-top: -1vw;">\n                        <h5 style="text-align: left; margin-left: 1vw">file type:</h5>\n                        <div style="flex-grow: 1; text-align: center;">\n                            <h5 id="pAdeblc-filesystem-filetype">javascript</h5>\n                        </div>\n                    </div>\n\n                    <div style="width: 85%; height: 0.2vw; border-bottom: 0.1px solid black; align-self: center;"></div>\n\n                    <div style="display: flex; width: 100%; align-items: center; margin-bottom: -1vw;">\n                        <h5 style="text-align: left; margin-left: 1vw;">file size:</h5>\n                        <div style="flex-grow: 1; text-align: center;">\n                            <h5 id="pAdeblc-filesystem-filesize">10kb</h5>\n                        </div>\n                    </div>\n                    <div style="display: flex; width: 100%; align-items: center; margin-top: -1vw;">\n                        <h5 style="text-align: left; margin-left: 1vw">file location:</h5>\n                        <div style="flex-grow: 1; text-align: center;">\n                            <h5 id="pAdeblc-filesystem-filelocation">C:\\</h5>\n                        </div>\n                    </div>\n                    <div style="display: flex; width: 100%; align-items: center; margin-top: -1vw;">\n                        <h5 style="text-align: left; margin-left: 1vw">date of creation:</h5>\n                        <div style="flex-grow: 1; text-align: center;">\n                            <h5 id="pAdeblc-filesystem-filedate">12/01/2025</h5>\n                        </div>\n                    </div>\n                </div>\n            </div>\n\n            <div class="pAdeblc-filesystem-main-container pAdeblc-cool-scroll cewlborder-in" id="pAdeblc-filesystem-content">\n            pAdeblc-filesystem-filedate\n            </div>\n            <input type="file" id="FilesystemCookieInput" style="display: none;" onchange="handleCookieData(event)"/>\n        </div>\n    ',document.body.appendChild(t),makeFileManagerDraggable(t),t.style.display="none",t.addEventListener("click",(()=>bringToFront(t))),bringToFront(t);const n=t.querySelector(".pAdeblc-filemanager-resizer");if(n){makeResizable(n,t.querySelectorAll(".pAdeblc-filemanager-panel"))}LoadFiles("cookie")}function getCookies(){const e=document.cookie.split(";"),t=[];return e.forEach((e=>{const n=e.trim(),o=n.indexOf("=");if(-1===o)return;const l=n.substring(0,o),i=n.substring(o+1);t.push({key:l,value:i})})),t}function handleCookieData(e){CloseDropdowns();const t=e.target.files[0];if(t){const e=new FileReader;e.onload=function(e){try{let t=JSON.parse(e.target.result);const n=t.cookies;Object.entries(n).forEach((([e,t])=>{document.cookie=`${e}=${t}; path=/`}));const o=t.localStorage;Object.entries(o).forEach((([e,t])=>{localStorage.setItem(e,t)}));const l=t.sessionStorage;Object.entries(l).forEach((([e,t])=>{sessionStorage.setItem(e,t)})),console.log("Cookies, localStorage, and sessionStorage loaded successfully"),createDivs(current_menu)}catch(e){console.error("Failed to load data:",e)}},e.readAsText(t)}}function saveCookies(){CloseDropdowns();const e={cookies:document.cookie.split("; ").reduce(((e,t)=>{const[n,o]=t.split("=");return n&&o&&(e[n]=o),e}),{}),localStorage:Object.entries(localStorage).reduce(((e,[t,n])=>(e[t]=n,e)),{}),sessionStorage:Object.entries(sessionStorage).reduce(((e,[t,n])=>(e[t]=n,e)),{})},t=JSON.stringify(e,null,2),n=new Blob([t],{type:"application/json;charset=utf-8"});saveAs(n,"cookies.json")}function updateStorage(){const e=document.querySelectorAll("#pAdeblc-filesystem-Names input"),t=document.querySelectorAll("#pAdeblc-filesystem-Values input");e.forEach(((e,n)=>{const o=e.value.trim(),l=t[n].value.trim();o&&localStorage.setItem(o,l)})),console.log("LocalStorage updated"),e.forEach(((e,n)=>{const o=e.value.trim(),l=t[n].value.trim();o&&(document.cookie=`${o}=${l}; path=/`)})),console.log("Cookies updated"),e.forEach(((e,n)=>{const o=e.value.trim(),l=t[n].value.trim();o&&sessionStorage.setItem(o,l)})),console.log("SessionStorage updated"),makediv(current_menu)}function findAndReplace(){CloseDropdowns();const e=document.querySelectorAll("#pAdeblc-filesystem-Names input"),t=document.querySelectorAll("#pAdeblc-filesystem-Values input"),n=prompt("Enter text to find:"),o=prompt("Text to replace with:");if(n&&null!==o){let l=!1;e.forEach(((e,t)=>{e.value.toLowerCase().includes(n.toLowerCase())&&(e.scrollIntoView({behavior:"smooth",block:"center"}),e.focus(),e.value=e.value.replace(new RegExp(n,"gi"),o),l=!0)})),t.forEach(((e,t)=>{e.value.toLowerCase().includes(n.toLowerCase())&&(e.scrollIntoView({behavior:"smooth",block:"center"}),e.focus(),e.value=e.value.replace(new RegExp(n,"gi"),o),l=!0)})),l||console.warn("Text not found.")}else console.error("Operation cancelled or invalid input.")}function findText(){CloseDropdowns();const e=document.querySelectorAll("#pAdeblc-filesystem-Names input"),t=document.querySelectorAll("#pAdeblc-filesystem-Values input"),n=prompt("Enter text to find:");if(n){let o=!1;e.forEach(((e,t)=>{e.value.toLowerCase().includes(n.toLowerCase())&&(e.scrollIntoView({behavior:"smooth",block:"center"}),e.focus(),o=!0)})),t.forEach(((e,t)=>{e.value.toLowerCase().includes(n.toLowerCase())&&(e.scrollIntoView({behavior:"smooth",block:"center"}),e.focus(),o=!0)})),o||console.warn("Text not found.")}}function copyText(){CloseDropdowns();const e=document.querySelectorAll("#pAdeblc-filesystem-Names input"),t=document.querySelectorAll("#pAdeblc-filesystem-Values input");let n="";e.forEach(((e,o)=>{n+=`${e.value}: ${t[o].value}\n`})),navigator.clipboard.writeText(n).then((()=>{alert("Copied to clipboard!")})).catch((e=>{console.error("Could not copy text: ",e)}))}function showFileProperties(e,t,n,o,l,i){document.getElementById("pAdeblc-filesystem-filename").textContent=e,document.getElementById("pAdeblc-filesystem-filetype").textContent=i,document.getElementById("pAdeblc-filesystem-filelocation").textContent=t,document.getElementById("pAdeblc-filesystem-filesize").textContent=n+"kb",document.getElementById("pAdeblc-filesystem-filetype").textContent=o,document.getElementById("pAdeblc-filesystem-filedate").textContent=l}function UpdatePersonalFileSystem(){saveFilesystem();const e=document.getElementById("pAdeblc-filesystem-content");let t=document.getElementById("pAdeblc-filemanager-folder-input-left").value,n=document.getElementById("pAdeblc-filemanager-folder-input-right").value;renderPanel(e.querySelector("#left-file-list"),`${t}`),renderPanel(e.querySelector("#right-file-list"),`${n}`)}function resize(e){if(!isResizing)return;const t=e.clientX-startX,n=startPrevSize+t,o=startNextSize-t;previousBox.style.width=`${n}px`,nextBox.style.width=`${o}px`,e.preventDefault()}function stopResizing(){isResizing=!1,document.removeEventListener("mousemove",resize),document.removeEventListener("mouseup",stopResizing)}function CreateFileUsingContextMenu(e){makefile("blank.txt","",e),UpdatePersonalFileSystem()}function CreateFolderUsingContextMenu(e){makefolder("New folder",e),UpdatePersonalFileSystem()}function createDivs(e){if(current_menu=e,"personalfiles"!==e){let o=!1;document.getElementById("pAdeblc-filesystem-content").innerHTML='\n            <div class="pAdeblc-filesystem-row" style="display: flex; align-items: stretch;">\n                    <div id="pAdeblc-filesystem-Names" style="flex-grow: 1; overflow-y: hidden; overflow-x:hidden; width: 300.267px;">\n                        \n                    </div>\n                    <div class="resizer vertical" id="resizer" style="cursor: ew-resize; margin-left:0.8vw; width: 0.2vw; background: #333;"></div>\n                    <div id="pAdeblc-filesystem-Values" style="flex-grow: 2; overflow-y: hidden; overflow-x:hidden; width: 698.267px;">\n                        \n                    </div>\n            </div>\n        ',document.getElementById("pAdeblc-filesystem-content").style.display="block",document.getElementById("pAdeblc-filesystem-content").style.flexDirection="none",document.getElementById("pAdeblc-filesystem-Names").innerHTML='<button class="pAdeblc-filesystem-filename">Name</button>',document.getElementById("pAdeblc-filesystem-Values").innerHTML='<button class="pAdeblc-filesystem-filename">Value</button>';const l=document.getElementById("resizer");if(l.addEventListener("mousedown",(e=>{isResizing=!0,currentResizer=l,previousBox=l.previousElementSibling,nextBox=l.nextElementSibling,startX=e.clientX,startPrevSize=previousBox.getBoundingClientRect().width,startNextSize=nextBox.getBoundingClientRect().width,document.addEventListener("mousemove",resize),document.addEventListener("mouseup",stopResizing)})),"cookie"===e){getCookies().forEach((e=>{o=!o,makediv(e.key,!1,!1,!1,o),makediv(e.value,!0,!1,!1,o)}))}else if("localstorage"===e)for(let i=0;i<localStorage.length;i++){o=!o;let r=localStorage.key(i),s=localStorage.getItem(r);makediv(r,!1,!1,!1,o),makediv(s,!0,!1,!1,o)}else if("sessionstorage"===e)for(let a=0;a<sessionStorage.length;a++){o=!o;let d=sessionStorage.key(a),c=sessionStorage.getItem(d);makediv(d,!1,!1,!1,o),makediv(c,!0,!1,!1,o)}}else{document.getElementById("pAdeblc-filesystem-content").innerHTML='\n            <div class="pAdeblc-filemanager-panel">\n                <div style="display: flex; align-items: center;">\n                    <input class=\'folder-input\' id="pAdeblc-filemanager-folder-input-left" type="text" style="flex: 1 1 auto;" placeholder="Enter folder path..." value="/root"/> \n\n                    <button class="pAdeblc-filemanager-go-root" id="pAdeblc-filemanager-go-root-left">*</button>\n\n                    <button class="pAdeblc-filemanager-go-up" id="pAdeblc-filemanager-go-up-left">▼</button>\n                </div>\n                <div class="file-list pAdeblc-filemanager-scrollbar" id="left-file-list"></div>\n            </div>\n            <div class="pAdeblc-filemanager-resizer "></div>\n            <div class="pAdeblc-filemanager-panel">\n                <div style="display: flex; align-items: center;">\n                    <input class=\'folder-input\' id="pAdeblc-filemanager-folder-input-right"  style="flex: 1 1 auto" type="text" placeholder="Enter folder path..." value="/root"/> \n\n                    <button class="pAdeblc-filemanager-go-root" id="pAdeblc-filemanager-go-root-right">*</button>\n                    \n                    <button class="pAdeblc-filemanager-go-up" id="pAdeblc-filemanager-go-up-right">▼</button>\n                </div>\n                <div class="file-list pAdeblc-filemanager-scrollbar" id="right-file-list"></div>\n            </div>\n        ',document.getElementById("pAdeblc-filesystem-content").style.display="flex",document.getElementById("pAdeblc-filesystem-content").style.flexDirection="row";const f=document.getElementById("pAdeblc-filesystem-content");makeResizable(f.querySelector(".pAdeblc-filemanager-resizer"),f.querySelectorAll(".pAdeblc-filemanager-panel"));const m=document.getElementById("pAdeblc-filemanager-folder-input-left"),g=document.getElementById("pAdeblc-filemanager-folder-input-right"),p=document.getElementById("pAdeblc-filemanager-go-root-left"),u=document.getElementById("pAdeblc-filemanager-go-root-right"),b=document.getElementById("pAdeblc-filemanager-go-up-left"),v=document.getElementById("pAdeblc-filemanager-go-up-right");function t(){const e=document.getElementById("pAdeblc-txeditor-main");txEditorTabCount<=20&&(e.style.display="block",bringToFront(e),txEditorTabCount+=1)}function n(e){e.preventDefault();const t=JSON.parse(e.dataTransfer.getData("application/json")),n=(e.target.closest(".file-item"),e.target.closest(".pAdeblc-filemanager-panel"));if(n){const e=n.querySelector(".folder-input").value.trim(),o=getFolderByPath(e);if(o&&t.path!==e){const n=getFolderByPath(t.path);if(n){const e=n.contents.findIndex((e=>e.name===t.name&&e.type===t.type));-1!==e?n.contents.splice(e,1):console.error(`Could not find ${t.name} in ${t.path} to remove.`)}else console.error(`Original folder not found for path ${t.path}`);let l=t.name;if(o.contents.some((e=>e.name===t.name&&e.type===t.type))){const e=t.name.substring(0,t.name.lastIndexOf("."))||t.name,n=t.name.includes(".")?t.name.substring(t.name.lastIndexOf(".")):"";let i=1;do{l=`${e} (${i++})${n}`}while(o.contents.some((e=>e.name===l&&e.type===t.type)))}t.path=e,t.name=l,o.contents.push(t),UpdatePersonalFileSystem()}}}p.addEventListener("click",(()=>{const e="/root";renderPanel(f.querySelector("#left-file-list"),e),m.value=e})),u.addEventListener("click",(()=>{const e="/root";renderPanel(f.querySelector("#right-file-list"),e),g.value=e})),b.addEventListener("click",(()=>{const e=m.value.trim().split("/").slice(0,-1).join("/");""!=e&&(renderPanel(f.querySelector("#left-file-list"),e),m.value=e)})),v.addEventListener("click",(()=>{const e=g.value.trim().split("/").slice(0,-1).join("/");""!=e&&(renderPanel(f.querySelector("#right-file-list"),e),g.value=e)})),m.addEventListener("keydown",(e=>{if("Enter"===e.key){const e=m.value.trim();renderPanel(f.querySelector("#left-file-list"),e)}})),g.addEventListener("keydown",(e=>{if("Enter"===e.key){const e=g.value.trim();renderPanel(f.querySelector("#right-file-list"),e)}})),f.querySelector("#left-file-list").addEventListener("dragover",(e=>{e.preventDefault(),e.dataTransfer.dropEffect="copy"})),f.querySelector("#right-file-list").addEventListener("dragover",(e=>{e.preventDefault(),e.dataTransfer.dropEffect="copy"})),f.querySelector("#left-file-list").addEventListener("drop",(e=>{n(e)})),f.querySelector("#right-file-list").addEventListener("drop",(e=>{n(e)}));const y={html:"text/html",css:"text/css",js:"text/javascript",json:"application/json",txt:"text/plain"},h={html:"html",css:"css",js:"javascript",json:"json",txt:"plain"};f.querySelector("#left-file-list").addEventListener("dblclick",(e=>{const n=e.target.closest(".file-item");if(n&&"folder"===n.dataset.type){const e=navigatePath(m.value.trim(),n.dataset.name);m.value=e,renderPanel(f.querySelector("#left-file-list"),e)}else if(n&&"file"===n.dataset.type){t();const o=h[n.dataset.name.split(".").pop()];try{createNewTxEditorTab(n.dataset.name,n.dataset.contents,global_tabbt,global_tabcontainer,o)}catch(e){}}})),f.querySelector("#left-file-list").addEventListener("mousedown",(e=>{const t=e.target.closest(".file-item");if(t&&"file"===t.dataset.type){const e=y[t.dataset.name.split(".").pop()];showFileProperties(t.dataset.name,t.dataset.location,t.dataset.size,e,t.dataset.date)}})),f.querySelector("#right-file-list").addEventListener("mousedown",(e=>{const t=e.target.closest(".file-item");if(t&&"file"===t.dataset.type){const e=y[t.dataset.name.split(".").pop()];showFileProperties(t.dataset.name,t.dataset.location,t.dataset.size,e,t.dataset.date)}})),f.querySelector("#right-file-list").addEventListener("dblclick",(e=>{const n=e.target.closest(".file-item");if(n&&"folder"===n.dataset.type){const e=navigatePath(g.value.trim(),n.dataset.name);g.value=e,renderPanel(f.querySelector("#right-file-list"),e)}else if(n&&"file"===n.dataset.type){t();const o=h[n.dataset.name.split(".").pop()];try{createNewTxEditorTab(n.dataset.name,n.dataset.contents,global_tabbt,global_tabcontainer,o)}catch(e){}}})),renderPanel(f.querySelector("#left-file-list"),"/root"),renderPanel(f.querySelector("#right-file-list"),"/root");const w=document.getElementById("left-file-list"),x=document.getElementById("right-file-list"),A=(e,t,n,o)=>{const l=n.value.trim();if(e.target===t){e.preventDefault(),document.getElementById("context-menu-rightclick")&&document.body.removeChild(document.getElementById("context-menu-rightclick"));const t=document.createElement("div");t.id="context-menu-rightclick",t.classList.add("pAdeblc-dropdown-content"),t.style.position="absolute",t.style.left=e.pageX+"px",t.style.top=e.pageY+"px",t.style.width="10vw",t.style.display="block",bringToFront(t),t.innerHTML=`\n                    <a href="#" onclick="CreateFileUsingContextMenu('${l}')">Create File</a>\n                    <a href="#" onclick="CreateFolderUsingContextMenu('${l}')">Create Folder</a>\n                `,document.body.appendChild(t),t.addEventListener("click",(e=>{if("A"===e.target.tagName){e.target.textContent.trim();document.body.removeChild(t)}}))}};w&&m&&w.addEventListener("contextmenu",(e=>A(e,w,m))),x&&g&&x.addEventListener("contextmenu",(e=>A(e,x,g)))}}function LoadFiles(e){createDivs(e)}MakeFileSystem(),document.addEventListener("click",(e=>{try{document.body.removeChild(document.getElementById("context-menu-rightclick"))}catch(e){}})),window.addEventListener("storage",(e=>{"personalfiles"!=current_menu&&createDivs(current_menu)}));const localStorageSet=localStorage.setItem;localStorage.setItem=function(e,t){"personalfiles"!=current_menu&&createDivs(current_menu),localStorageSet.apply(this,arguments)};const sessionStorageSet=sessionStorage.setItem;sessionStorage.setItem=function(e,t){"personalfiles"!=current_menu&&createDivs(current_menu),sessionStorageSet.apply(this,arguments)};